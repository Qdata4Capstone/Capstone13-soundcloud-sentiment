<!DOCTYPE html>
<html>
<head>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://code.jquery.com/jquery-2.0.3.js"></script>
    <link rel="stylesheet" href="../static/css/top100.css">
</head>
<body>
    <div id="viz"></div>
    <script>
    d3.text("../static/datasets/dj-mag-top-100.csv", function(datasetText) {

    var parsedCSV = d3.csv.parseRows(datasetText);
    var groups = [["Coone", "Josh Wink", "Judge Jules", "Justice", "Astral Projection", "Erol Alkan", "Stonebridge", "Chris Liebing", "Norman Jay", "Marco Bailey", "Steve Lawler", "Basement Jaxx", "Matt Darey", "Flash Brothers", "Claudio Coccoluto", "Billy Nasty", "Paul Van Dyk", "BK", "Alex M.O.R.P.H.", "Tiga", "Matt Hardwick", "Luciano", "Chris Liberator"], ["CJ Bolland", "Ricky Stone", "Super8 & Tab", "Harvey", "Graeme Park", "Paul Oakenfold", "Yoji Biomehanika", "Quentin Mosimann", "Stanton Warriors", "Neelix", "Dannic", "Angerfist", "Jonathan Lisle", "AN21", "Andy Morris", "Wildstylez", "Aphrodite", "BT", "Todd Terry", "Slipmatt", "Erick Morillo", "Slacker", "Axwell"], ["Avicii", "D-Formation", "Joris Voorn", "Dimitri Vegas & Like Mike", "Markus Schulz", "Frankie Knuckles", "JFK", "Rank 1", "Swedish House Mafia", "Fabio", "Pippi", "Roger Shah", "Tom Middleton", "Cosmic Gate", "Scott K", "Jose Padilla", "Dash Berlin", "Solarstone", "Tom Wainwright", "Zatox", "Headhunterz", "Antoine", "Amadeus"], ["Umek", "Miss Kittin", "Freddy Fresh", "Rachel Aubern", "DJ EZ", "Christopher Lawrence", "Deadmau5", "Boy George", "Sasha", "DJ Feel", "Phil Kieran", "Eric Prydz", "Queen Maxine", "Talla 2 XLC", "Chris Coco", "Darren Pearce", "Wrecked Machines", "Gareth Emery", "Cor Fijneman", "Wasted Penguinz", "Boris Dlugosch", "Frontliner", "Netsky"], ["Dillon Francis", "Junior Vasquez", "Gui Boratto", "Joachim Garraud", "Full Intention", "Dope Smugglaz", "Mrs Wood", "Daniel Kandi", "Mark Moore", "Chuckie", "Proteus", "Lee Burridge", "Fergie", "DJ Marky", "Tony De Vit", "Porter Robinson", "Graham Gold", "DJ Disciple", "Alex P", "Sven Vath", "DJ Shadow", "Brandon Block", "Gunz For Hire"], ["Stafford Brothers", "Dion Mavath", "Matthias Hellbronn", "Sander Kleinenberg", "Parks and Wilson", "Scratch Perverts", "Juan Atkins", "Matt Cantor", "Mr C", "Sebastien Leger", "Patrick Forge", "M.I.K.E. Push", "Paul Kalkbrenner", "Marcel Woods", "Alex Morph & Woody Van Eyden", "Nick Sentience", "Ferry Corsten", "Tiesto", "James Zabiela", "Steve Thomas", "Hybrid", "Force & Styles", "Serge Devant"], ["Tony Humphries", "DJ Dan", "Knife Party", "Max Graham", "Blasterjaxx", "Eddie Halliwell", "Felix Da Housecat", "DJ Die", "Aly & Fila", "DJ Rap", "Zinc", "Lottie", "Stu Allen", "Kyau & Albert", "Leon Bolier", "Derrick Carter", "Hype", "Chris & James", "Daft Punk", "Ian Ossia", "Phil Smart", "Justin Robertson", "Cass"], ["DJ Rush", "Meat Katie", "Misstress Barbara", "Dubfire", "Nervo", "Nick Warren", "Victor Calderone", "Frank Trax", "DJ Hype", "Paul Glazby", "Mixmaster Mike", "John Graham", "Rob Tissera", "Colin Tevendale", "Astrix", "Luke Fair", "Ashley Casselle", "Lord G", "David Guetta", "Remy", "Magda", "Blank & Jones", "Plump DJs"], ["Krafty Kuts", "Jimmy Van M", "Scot Project", "Pete The Zouk", "Madeon", "Gigi D'Agostino", "Kerri Chandler", "Arty", "Doc Martin", "DJ Skazi", "Boys Noize", "Jeremy Healy", "Tenishia", "Funkmaster Flex", "Mickey Finn", "Craig Dimech", "Martin Garrix", "Marco Lenzi", "Smokin Jo", "Jon The Dentist", "Jon Carter", "Andy Smith", "Yahel"], ["Q-Bert", "Krewella", "Agnelli & Nelson", "Brisk", "Sean Tyas", "Vicetone", "Laurent Wolf", "Myon & Shane 54", "Felguk", "DJ Luna", "Claudia Cazacu", "Fatboy Slim", "Lady Dana", "Nicky Romero", "Skrillex", "Ronald van Gelderen", "Westbam", "DJ Vibe", "Bloody Beetroots", "Scott Bond", "Feed Me", "DJ Tarkan", "Johan Gielen"], ["Dave Pearce", "Pete Tong", "R3hab", "Carl Craig", "Mat Zo", "Dieselboy", "Steve Porter", "Derrick May", "Timo Maas", "Francois K", "Dougal", "Greg Downey", "Simon Patterson", "Martin Solveig", "Chus & Ceballos", "Coldcut", "Sister Bliss", "Shogun", "Tall Paul", "Sharkey", "Armin Van Buuren", "Jon Pleased Wimmin", "Sebastian Ingrosso"], ["Da Tweekaz", "Sander Van Doorn", "Angel Moraes", "John B", "Allister Whitehead", "Tocadisco", "Matt Jam Lamont", "Nic Fanciulli", "Sidney Samson", "Doc Scott", "Hardwell", "Bl3nd", "Menno De Jong", "Ricardo Villalobos", "Guy Ornadel", "Tuff Jam", "Laurent Garnier", "DJ Tatana", "Moonbeam", "Gordon Kaye", "Dave Lee", "Ashley Beedle", "Axel Karakasis"], ["Diplo", "Bobina", "Bingo Players", "Roni Size", "X-Press 2", "Alan Thompson", "Surgeon", "Sied Van Riel", "Donald Glaude", "Kaskade", "Masters At Work", "Laidback Luke", "Paul Trouble Anderson", "DJ Heaven", "Craig Richards", "DJ Randall", "Kai Tracid", "Ariel", "Zedd", "The Thrillseekers", "Fedde Le Grand", "Martin Garcia", "Trentemoller"], ["Mike Koglin", "Christian Cambas", "Sharam", "Chris Leibing", "Deep Dish", "Chris Fortier", "Infected Mushroom", "D.A.V.E the Drummer", "Andy C", "The Dreem Team", "Moshic", "Adam Freeland", "Ronski Speed", "Lisa Pin-up", "DJ Crust", "Heatbeat", "Slam", "Joe Clausell", "Tiddey", "Dave Seaman", "2manyDJs", "John 00 Fleming", "Benny Benassi"], ["John Digweed", "James Holden", "Mark Farina", "Armand Van Helden", "Afrojack", "Norman Cook", "Solar System", "Project 46", "Steve Hurley", "Dada Life", "Thomas Gold", "David Holmes", "Andy Farley", "James Lavelle", "Danny Rampling", "Junior Jack", "Jeff Mills", "Tidy Boys", "Wolfgang Gartner", "John O'Callaghan", "Steve Angello", "Grooverider"], ["Terry Francis", "Lisa Lashes", "Richard Durand", "D-Block & S-Te-Fan", "Ummet Ozcan", "MYNC Project", "Gilles Peterson", "Alesso", "ATB", "Gabriel & Dresden", "Marco V", "Tenashar", "Lange", "DJ Sneak", "Miss Jo Lively", "Tommy Trash", "Adaro", "Above & Beyond", "Arnej", "Simon Posford", "Bad Boy Bill", "Andy Moor"], ["Sandra Collins", "Diego Miranda", "John Acquaviva", "Marcus Schossow", "Noisecontrollers", "Mario Piu", "Benjamin Bates", "Signum", "Yousef", "Francis Davila", "Orjan Nilsen", "W & W", "Anderson Noise", "Calvin Harris", "Juanjo Martin", "Anne Savage", "LTJ Bukem", "Dave Clarke", "Valentino Kanzyani", "Antoine Clamaran", "Harri", "Dimitri From Paris"], ["CJ Mackintosh", "Dave Angel", "Desyn Masiello", "Jimpy", "Mike Candys", "Nero", "Goldie", "George Acosta", "Andrew Rayel", "Dirty South", "Dyro", "Layo & Bushwacka", "DJ Sy", "Darren Emerson", "Andy Weatherall", "Karl Tuff Enuff Brown", "Pete Wardman", "Wally Lopez", "Brennan Heart", "Joy Kitikonti", "Mr Scruff", "Offer Nissim"], ["Adam Sheridan", "John Peel", "DJ Sammy", "Adam Beyer", "Darude", "Satoshi Tomiie", "Filo & Peri", "Hernan Cattaneo", "Psyko Punkz", "Robbie Rivera", "Showtek", "Ian M", "Marco Carola", "Seb Fontaine", "Dave Lee/Joey Negro", "Sonique", "Bob Sinclar", "Carl Cox", "Danny Howells", "Blu Peter", "Steve Aoki", "John Kelly"], ["Mark Knight", "Richie Hawtin", "Mauro Picotto", "Booka Shade", "DJ Hercio", "Tim Deluxe", "Danny Tenaglia", "Tom Stephan", "The Chemical Brothers", "Hixxy", "Ran-D", "Tritonal", "David Morales", "Michel De Hey", "DJs From Mars", "Tydi", "Omnia", "Anthony Pappa", "Pete Heller", "Lisa Loud", "Roger Sanchez", "Colin Dale"]];

    function findCluster(name){
        for(var i = 0; i < groups.length; i++){
            if(groups[i].indexOf(name) > -1){
                return i;
            }
        }
    }

    var sampleHTML = d3.select("#viz")
        .append("table")
        .style("border-collapse", "collapse")
        .style("border", "2px black solid")

        .selectAll("tr")
        .data(parsedCSV)
        .enter().append("tr")

        .selectAll("td")
        .data(function(d){return d;})
        .enter().append("td")
//        .attr("class", function(d){return d.replace(/\s+/g, '').replace('&', '');})
        .attr("class", function(d){return findCluster(d);})
        .style("border", "1px black solid")
        .style("padding", "5px")
        .text(function(d){return d;})
    });
    </script>
    <script src="../static/js/top100.js"></script>
</body>
</html>